<!DOCTYPE html>
<!-- saved from url=(0058)https://cheatsheet.dennyzhang.com/cheatsheet-kubernetes-a4 -->
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="https://code.dennyzhang.com/wp-content/themes/icon.png" type="image/x-icon">
    	<link rel="pingback" href="https://cheatsheet.dennyzhang.com/xmlrpc.php">
	    <title>Kubectl Kubernetes Free CheatSheet – CheatSheet</title>

<!-- Recent Posts Widget With Thumbnails: inline CSS -->
<style type="text/css">
.rpwwt-widget ul { list-style: outside none none; margin-left: 0; margin-right: 0; padding-left: 0; padding-right: 0; }
.rpwwt-widget ul li { overflow: hidden; margin: 0 0 1.5em; }
.rpwwt-widget ul li:last-child { margin: 0; }
.rpwwt-widget ul li img { display: inline; float: left; margin: .3em .75em .75em 0; }
.rpwwt-widget ul li img { width: 75px; height: 75px; }
</style>
<link rel="dns-prefetch" href="https://fonts.googleapis.com/">
<link rel="dns-prefetch" href="https://s.w.org/">
<link href="https://fonts.gstatic.com/" crossorigin="" rel="preconnect">
<link rel="alternate" type="application/rss+xml" title="CheatSheet » Feed" href="https://cheatsheet.dennyzhang.com/feed">
<link rel="alternate" type="application/rss+xml" title="CheatSheet » Comments Feed" href="https://cheatsheet.dennyzhang.com/comments/feed">
<link rel="alternate" type="application/rss+xml" title="CheatSheet » Kubectl Kubernetes Free CheatSheet Comments Feed" href="https://cheatsheet.dennyzhang.com/cheatsheet-kubernetes-a4/feed">
		<script src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/osd.js"></script><script src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/f(5).txt"></script><script src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/f(6).txt" id="google_shimpl"></script><script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/cheatsheet.dennyzhang.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.4.1"}};
			/*! This file is auto-generated */
			!function(e,a,t){var r,n,o,i,p=a.createElement("canvas"),s=p.getContext&&p.getContext("2d");function c(e,t){var a=String.fromCharCode;s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,e),0,0);var r=p.toDataURL();return s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,t),0,0),r===p.toDataURL()}function l(e){if(!s||!s.fillText)return!1;switch(s.textBaseline="top",s.font="600 32px Arial",e){case"flag":return!c([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])&&(!c([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!c([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]));case"emoji":return!c([55357,56424,55356,57342,8205,55358,56605,8205,55357,56424,55356,57340],[55357,56424,55356,57342,8203,55358,56605,8203,55357,56424,55356,57340])}return!1}function d(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(i=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},o=0;o<i.length;o++)t.supports[i[o]]=l(i[o]),t.supports.everything=t.supports.everything&&t.supports[i[o]],"flag"!==i[o]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[i[o]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(r=t.source||{}).concatemoji?d(r.concatemoji):r.wpemoji&&r.twemoji&&(d(r.twemoji),d(r.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/wp-emoji-release.min.js" type="text/javascript" defer=""></script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel="stylesheet" id="wp-block-library-css" href="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/style.min.css" type="text/css" media="all">
<link rel="stylesheet" id="dashicons-css" href="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/dashicons.min.css" type="text/css" media="all">
<link rel="stylesheet" id="post-views-counter-frontend-css" href="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/frontend.css" type="text/css" media="all">
<link rel="stylesheet" id="tags-page-css" href="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/tags-page.min.css" type="text/css" media="all">
<link rel="stylesheet" id="kale-fonts-css" href="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/css(1)" type="text/css" media="all">
<link rel="stylesheet" id="bootstrap-css" href="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/bootstrap.min.css" type="text/css" media="all">
<link rel="stylesheet" id="bootstrap-select-css" href="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/bootstrap-select.min.css" type="text/css" media="all">
<link rel="stylesheet" id="smartmenus-bootstrap-css" href="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/jquery.smartmenus.bootstrap.css" type="text/css" media="all">
<link rel="stylesheet" id="font-awesome-css" href="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/font-awesome.min.css" type="text/css" media="all">
<link rel="stylesheet" id="owl-carousel-css" href="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/owl.carousel.css" type="text/css" media="all">
<link rel="stylesheet" id="kale-style-css" href="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/style.css" type="text/css" media="all">
<script type="text/javascript" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/jquery.js"></script>
<script type="text/javascript" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/jquery-migrate.min.js"></script>
<!--[if lt IE 9]>
<script type='text/javascript' src='https://cheatsheet.dennyzhang.com/wp-content/themes/kale/assets/js/html5shiv.min.js?ver=3.7.0'></script>
<![endif]-->
<!--[if lt IE 9]>
<script type='text/javascript' src='https://cheatsheet.dennyzhang.com/wp-content/themes/kale/assets/js/respond.min.js?ver=1.3.0'></script>
<![endif]-->
<link rel="https://api.w.org/" href="https://cheatsheet.dennyzhang.com/wp-json/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://cheatsheet.dennyzhang.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://cheatsheet.dennyzhang.com/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="Kubernetes Yaml Templates" href="https://cheatsheet.dennyzhang.com/kubernetes-yaml-templates">
<meta name="generator" content="WordPress 5.4.1">
<link rel="canonical" href="https://cheatsheet.dennyzhang.com/cheatsheet-kubernetes-a4">
<link rel="shortlink" href="https://cheatsheet.dennyzhang.com/?p=5260">
<link rel="alternate" type="application/json+oembed" href="https://cheatsheet.dennyzhang.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcheatsheet.dennyzhang.com%2Fcheatsheet-kubernetes-a4">
<link rel="alternate" type="text/xml+oembed" href="https://cheatsheet.dennyzhang.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcheatsheet.dennyzhang.com%2Fcheatsheet-kubernetes-a4&amp;format=xml">
<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style><style id="kirki-inline-styles"></style><link rel="preload" href="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/f(7).txt" as="script"><script type="text/javascript" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/f(7).txt"></script><link rel="preload" href="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/f(8).txt" as="script"><script type="text/javascript" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/f(8).txt"></script></head>

<body class="post-template-default single single-post postid-5260 single-format-standard js">

<div class="main-wrapper" style="height: auto !important;">
    <div class="container" style="height: auto !important;">
        
        <!-- Header -->
        <div class="header" style="height: auto !important;">
        
                        
            <!-- Header Row 2 -->
            <div class="header-row-2">
                <div class="logo">
                    					
												<div class="header-logo-text"><a href="https://cheatsheet.dennyzhang.com/">CheatSheet</a></div>
											
                                    </div>
                                <div class="tagline"><p>Using CheatSheets To Apply Best Practices</p></div>
                            </div>
            <!-- /Header Row 2 -->
            
            
            <!-- Header Row 3 -->
            <div class="header-row-3" style="height: auto !important;">
                <div class="google-auto-placed" style="width: 100%; height: auto; clear: both; text-align: center;"><ins data-ad-format="auto" class="adsbygoogle adsbygoogle-noablate" data-ad-client="ca-pub-5389711597208884" data-adsbygoogle-status="done" style="display: block; margin: 10px auto 40px; background-color: transparent; height: 280px;"><ins id="aswift_2_expand" style="display:inline-table;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:1140px;background-color:transparent;"><ins id="aswift_2_anchor" style="display: block; border: none; height: 280px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 1140px; background-color: transparent; overflow: visible;"><iframe id="aswift_2" name="aswift_2" style="left:0;position:absolute;top:0;border:0;width:1140px;height:280px;" sandbox="allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" width="1140" height="280" frameborder="0" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/ads.html" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" data-google-container-id="a!3" data-google-query-id="CMTM8ui60ekCFUZZjwodKP0Lfg" data-load-complete="true"></iframe></ins></ins></ins></div><nav class="navbar navbar-default">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".header-row-3 .navbar-collapse" aria-expanded="false">
                        <span class="sr-only">Toggle Navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        </button>
                    </div>
                    <!-- Navigation -->
                    <div class="navbar-collapse collapse"><ul id="menu-mainmenu" class="nav navbar-nav" data-smartmenus-id="15904937184572927"><li id="menu-item-138" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-138"><a href="https://cheatsheet.dennyzhang.com/">All</a></li>
<li id="menu-item-4462" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-4462"><a href="https://cheatsheet.dennyzhang.com/category/cloud">Cloud</a></li>
<li id="menu-item-534" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-534"><a href="https://cheatsheet.dennyzhang.com/category/linux">Linux</a></li>
<li id="menu-item-9455" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-9455"><a href="https://cheatsheet.dennyzhang.com/category/interview">Interview</a></li>
<li id="menu-item-2664" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2664"><a href="https://cheatsheet.dennyzhang.com/category/vmware">VMware</a></li>
<li id="menu-item-135" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-135"><a href="https://cheatsheet.dennyzhang.com/category/languages">Languages</a></li>
<li id="menu-item-137" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-137"><a href="https://cheatsheet.dennyzhang.com/category/tools">Tools</a></li>
<li id="menu-item-136" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-136"><a href="https://cheatsheet.dennyzhang.com/category/life">Life</a></li>
<li id="menu-item-22" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-22"><a href="https://cheatsheet.dennyzhang.com/contact">Contact</a></li>
<li class="search">
        <a href="javascript:;" id="toggle-main_search" data-toggle="dropdown"><i class="fa fa-search"></i></a>
        <div class="dropdown-menu main_search">
            <form name="main_search" method="get" action="https://cheatsheet.dennyzhang.com/">
                <input type="text" name="s" class="form-control" placeholder="Type here">
            </form>
        </div>
    </li></ul></div>                    <!-- /Navigation -->
                </nav>
            </div>
            <!-- /Header Row 3 -->
            
            
        </div>
        <!-- /Header -->
        

<!-- Two Columns -->
<div class="row two-columns" style="height: auto !important;">

    <!-- Main Column -->
        <div class="main-column col-md-12" style="height: auto !important; min-height: 0px !important;">
        
        <!-- Post Content -->
        <div id="post-5260" class="entry entry-post post-5260 post type-post status-publish format-standard has-post-thumbnail hentry category-cloud tag-kubernetes" style="height: auto !important;">
            
            <div class="entry-header">
				                <div class="entry-meta">
                    <div class="entry-date date updated">January 1, 2019</div>
                </div>
								<div class="clearfix"></div>
            </div>
            
                                    <h1 class="entry-title">Kubectl Kubernetes Free CheatSheet</h1>
                        
                            <div class="entry-thumb"><img width="1638" height="847" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/kubernetes.png" class="img-responsive wp-post-image" alt="Kubectl Kubernetes Free CheatSheet"></div>
<script async="" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/f(9).txt"></script>
<!-- cheatsheet_post -->
<ins class="adsbygoogle" style="display: block; height: 280px;" data-ad-client="ca-pub-5389711597208884" data-ad-slot="9451054583" data-ad-format="auto" data-full-width-responsive="true" data-adsbygoogle-status="done"><ins id="aswift_0_expand" style="display:inline-table;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:1140px;background-color:transparent;"><ins id="aswift_0_anchor" style="display: block; border: none; height: 280px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 1140px; background-color: transparent; overflow: visible;"><iframe id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;border:0;width:1140px;height:280px;" sandbox="allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" width="1140" height="280" frameborder="0" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/ads(1).html" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" data-google-container-id="a!1" data-google-query-id="CPyc8Oi60ekCFU9AnQkdrpsOXg" data-load-complete="true"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>            
            <div class="single-content"><p><span id="more-5260"></span><br>
<a href="https://github.com/dennyzhang/cheatsheet-kubernetes-A4"><img align="right" width="200" height="183" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/github.png"></a></p>
<div id="the whole thing" style="overflow: hidden;">
<div style="float: left; padding: 5px"> <a href="https://www.linkedin.com/in/dennyzhang001"><img src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/linkedin.png" alt="linkedin"></a></div>
<div style="float: left; padding: 5px"><a href="https://github.com/dennyzhang"><img src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/github(1).png" alt="github"></a></div>
<div style="float: left; padding: 5px"><a href="https://www.dennyzhang.com/slack" target="_blank" rel="nofollow noopener noreferrer"><img src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/slack.png" alt="slack"></a></div>
</div>
<p><a href="http://makeapullrequest.com/" target="_blank" rel="nofollow noopener noreferrer"><img src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/PRs-welcome-brightgreen.svg" alt="PRs Welcome"></a></p>
<ul class="org-ul">
<li>PDF Link: <a href="https://github.com/dennyzhang/cheatsheet-kubernetes-A4/blob/master/cheatsheet-kubernetes-A4.pdf">cheatsheet-kubernetes-A4.pdf</a>, Category: <a href="https://cheatsheet.dennyzhang.com/category/cloud/">Cloud</a></li>
<li>Blog URL: <a href="https://cheatsheet.dennyzhang.com/cheatsheet-kubernetes-A4">https://cheatsheet.dennyzhang.com/cheatsheet-kubernetes-A4</a></li>
<li>Related posts: <a href="https://cheatsheet.dennyzhang.com/cheatsheet-kubernetes-A4">Kubectl CheatSheet</a>, <a href="https://cheatsheet.dennyzhang.com/kubernetes-yaml-templates">Kubernetes Yaml</a>, <a href="https://github.com/topics/denny-cheatsheets">#denny-cheatsheets</a></li>
</ul>
<p>File me <a href="https://github.com/dennyzhang/cheatsheet.dennyzhang.com/issues">Issues</a> or star <a href="https://github.com/dennyzhang/cheatsheet.dennyzhang.com">this repo</a>.
</p></div>
<div id="outline-container-org6cbb8a5" class="outline-3">
<h3 id="org6cbb8a5"><span class="section-number-3">1.1</span> Common Commands</h3>
<div class="outline-text-3" id="text-1-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Command</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Run curl test temporarily</td>
<td class="org-left"><code>kubectl run --generator=run-pod/v1 --rm mytest --image=yauritux/busybox-curl -it</code></td>
</tr>
<tr>
<td class="org-left">Run wget test temporarily</td>
<td class="org-left"><code>kubectl run --generator=run-pod/v1 --rm mytest --image=busybox -it wget</code></td>
</tr>
<tr>
<td class="org-left">Run nginx deployment with 2 replicas</td>
<td class="org-left"><code>kubectl run my-nginx --image=nginx --replicas=2 --port=80</code></td>
</tr>
<tr>
<td class="org-left">Run nginx pod and expose it</td>
<td class="org-left"><code>kubectl run my-nginx --restart=Never --image=nginx --port=80 --expose</code></td>
</tr>
<tr>
<td class="org-left">Run nginx deployment and expose it</td>
<td class="org-left"><code>kubectl run my-nginx --image=nginx --port=80 --expose</code></td>
</tr>
<tr>
<td class="org-left">List authenticated contexts</td>
<td class="org-left"><code>kubectl config get-contexts</code>, <code>~/.kube/config</code></td>
</tr>
<tr>
<td class="org-left">Set namespace preference</td>
<td class="org-left"><code>kubectl config set-context &lt;context_name&gt; --namespace=&lt;ns_name&gt;</code></td>
</tr>
<tr>
<td class="org-left">List pods with nodes info</td>
<td class="org-left"><code>kubectl get pod -o wide</code></td>
</tr>
<tr>
<td class="org-left">List everything</td>
<td class="org-left"><code>kubectl get all --all-namespaces</code></td>
</tr>
<tr>
<td class="org-left">Get all services</td>
<td class="org-left"><code>kubectl get service --all-namespaces</code></td>
</tr>
<tr>
<td class="org-left">Get all deployments</td>
<td class="org-left"><code>kubectl get deployments --all-namespaces</code></td>
</tr>
<tr>
<td class="org-left">Show nodes with labels</td>
<td class="org-left"><code>kubectl get nodes --show-labels</code></td>
</tr>
<tr>
<td class="org-left">Get resources with json output</td>
<td class="org-left"><code>kubectl get pods --all-namespaces -o json</code></td>
</tr>
<tr>
<td class="org-left">Validate yaml file with dry run</td>
<td class="org-left"><code>kubectl create --dry-run --validate -f pod-dummy.yaml</code></td>
</tr>
<tr>
<td class="org-left">Start a temporary pod for testing</td>
<td class="org-left"><code>kubectl run --rm -i -t --image=alpine test-$RANDOM -- sh</code></td>
</tr>
<tr>
<td class="org-left">kubectl run shell command</td>
<td class="org-left"><code>kubectl exec -it mytest -- ls -l /etc/hosts</code></td>
</tr>
<tr>
<td class="org-left">Get system conf via configmap</td>
<td class="org-left"><code>kubectl -n kube-system get cm kubeadm-config -o yaml</code></td>
</tr>
<tr>
<td class="org-left">Get deployment yaml</td>
<td class="org-left"><code>kubectl -n denny-websites get deployment mysql -o yaml</code></td>
</tr>
<tr>
<td class="org-left">Explain resource</td>
<td class="org-left"><code>kubectl explain pods</code>, <code>kubectl explain svc</code></td>
</tr>
<tr>
<td class="org-left">Watch pods</td>
<td class="org-left"><code>kubectl get pods  -n wordpress --watch</code></td>
</tr>
<tr>
<td class="org-left">Query healthcheck endpoint</td>
<td class="org-left"><code>curl -L http://127.0.0.1:10250/healthz</code></td>
</tr>
<tr>
<td class="org-left">Open a bash terminal in a pod</td>
<td class="org-left"><code>kubectl exec -it storage sh</code></td>
</tr>
<tr>
<td class="org-left">Check pod environment variables</td>
<td class="org-left"><code>kubectl exec redis-master-ft9ex env</code></td>
</tr>
<tr>
<td class="org-left">Enable kubectl shell autocompletion</td>
<td class="org-left"><code>echo "source &lt;(kubectl completion bash)" &gt;&gt;~/.bashrc</code>, and reload</td>
</tr>
<tr>
<td class="org-left">Use minikube dockerd in your laptop</td>
<td class="org-left"><code>eval $(minikube docker-env)</code>, No need to push docker hub any more</td>
</tr>
<tr>
<td class="org-left">Kubectl apply a folder of yaml files</td>
<td class="org-left"><code>kubectl apply -R -f .</code></td>
</tr>
<tr>
<td class="org-left">Get services sorted by name</td>
<td class="org-left">kubectl get services –sort-by=.metadata.name</td>
</tr>
<tr>
<td class="org-left">Get pods sorted by restart count</td>
<td class="org-left">kubectl get pods –sort-by=’.status.containerStatuses[0].restartCount’</td>
</tr>
<tr>
<td class="org-left">List pods and images</td>
<td class="org-left">kubectl get pods -o=’custom-columns=PODS:.metadata.name,Images:.spec.containers[*].image’</td>
</tr>
<tr>
<td class="org-left">List all container images</td>
<td class="org-left"><a href="https://github.com/dennyzhang/cheatsheet-kubernetes-A4/blob/master/list-all-images.sh#L14-L17">list-all-images.sh</a></td>
</tr>
<tr>
<td class="org-left">kubeconfig skip tls verification</td>
<td class="org-left"><a href="https://github.com/dennyzhang/cheatsheet-kubernetes-A4/blob/master/skip-tls-verify.md">skip-tls-verify.md</a></td>
</tr>
<tr>
<td class="org-left"><a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/">Ubuntu install kubectl</a></td>
<td class="org-left"><code>"deb https://apt.kubernetes.io/ kubernetes-xenial main"</code></td>
</tr>
<tr>
<td class="org-left">Reference</td>
<td class="org-left"><a href="https://github.com/kubernetes/kubernetes/tags">GitHub: kubernetes releases</a></td>
</tr>
<tr>
<td class="org-left">Reference</td>
<td class="org-left"><a href="https://cheatsheet.dennyzhang.com/cheatsheet-minikube-A4">minikube cheatsheet</a>, <a href="https://cheatsheet.dennyzhang.com/cheatsheet-docker-A4">docker cheatsheet</a>, <a href="https://cheatsheet.dennyzhang.com/cheatsheet-openshift-A4">OpenShift CheatSheet</a></td>
</tr>
</tbody>
</table><div class="google-auto-placed" style="width: 100%; height: auto; clear: both; text-align: center;"><ins data-ad-format="auto" class="adsbygoogle adsbygoogle-noablate" data-ad-client="ca-pub-5389711597208884" data-adsbygoogle-status="done" style="display: block; margin: 10px auto; background-color: transparent; height: 280px;"><ins id="aswift_4_expand" style="display:inline-table;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:1140px;background-color:transparent;"><ins id="aswift_4_anchor" style="display:block;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:1140px;background-color:transparent;"></ins></ins></ins></div>
</div>
</div>
<div id="outline-container-orgd8871d0" class="outline-3">
<h3 id="orgd8871d0"><span class="section-number-3">1.2</span> Check Performance</h3>
<div class="outline-text-3" id="text-1-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Command</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Get node resource usage</td>
<td class="org-left"><code>kubectl top node</code></td>
</tr>
<tr>
<td class="org-left">Get pod resource usage</td>
<td class="org-left"><code>kubectl top pod</code></td>
</tr>
<tr>
<td class="org-left">Get resource usage for a given pod</td>
<td class="org-left"><code>kubectl top &lt;podname&gt; --containers</code></td>
</tr>
<tr>
<td class="org-left">List resource utilization for all containers</td>
<td class="org-left"><code>kubectl top pod --all-namespaces --containers=true</code></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org25f8579" class="outline-3">
<h3 id="org25f8579"><span class="section-number-3">1.3</span> Resources Deletion</h3>
<div class="outline-text-3" id="text-1-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Command</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Delete pod</td>
<td class="org-left"><code>kubectl delete pod/&lt;pod-name&gt; -n &lt;my-namespace&gt;</code></td>
</tr>
<tr>
<td class="org-left">Delete pod by force</td>
<td class="org-left"><code>kubectl delete pod/&lt;pod-name&gt; --grace-period=0 --force</code></td>
</tr>
<tr>
<td class="org-left">Delete pods by labels</td>
<td class="org-left"><code>kubectl delete pod -l env=test</code></td>
</tr>
<tr>
<td class="org-left">Delete deployments by labels</td>
<td class="org-left"><code>kubectl delete deployment -l app=wordpress</code></td>
</tr>
<tr>
<td class="org-left">Delete all resources filtered by labels</td>
<td class="org-left"><code>kubectl delete pods,services -l name=myLabel</code></td>
</tr>
<tr>
<td class="org-left">Delete resources under a namespace</td>
<td class="org-left"><code>kubectl -n my-ns delete po,svc --all</code></td>
</tr>
<tr>
<td class="org-left">Delete persist volumes by labels</td>
<td class="org-left"><code>kubectl delete pvc -l app=wordpress</code></td>
</tr>
<tr>
<td class="org-left">Delete state fulset only (not pods)</td>
<td class="org-left"><code>kubectl delete sts/&lt;stateful_set_name&gt; --cascade=false</code></td>
</tr>
</tbody>
</table><div class="google-auto-placed" style="width: 100%; height: auto; clear: both; text-align: center;"><ins data-ad-format="auto" class="adsbygoogle adsbygoogle-noablate" data-ad-client="ca-pub-5389711597208884" data-adsbygoogle-status="done" style="display: block; margin: 10px auto; background-color: transparent; height: 280px;"><ins id="aswift_5_expand" style="display:inline-table;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:1140px;background-color:transparent;"><ins id="aswift_5_anchor" style="display:block;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:1140px;background-color:transparent;"></ins></ins></ins></div>
<p><a href="https://cheatsheet.dennyzhang.com/"><img align="right" width="185" height="37" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/cheatsheet_dns.png"></a>
</p></div>
</div>
<div id="outline-container-org2d9cec9" class="outline-3">
<h3 id="org2d9cec9"><span class="section-number-3">1.4</span> Log &amp; Conf Files</h3>
<div class="outline-text-3" id="text-1-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Config folder</td>
<td class="org-left"><code>/etc/kubernetes/</code></td>
</tr>
<tr>
<td class="org-left">Certificate files</td>
<td class="org-left"><code>/etc/kubernetes/pki/</code></td>
</tr>
<tr>
<td class="org-left">Credentials to API server</td>
<td class="org-left"><code>/etc/kubernetes/kubelet.conf</code></td>
</tr>
<tr>
<td class="org-left">Superuser credentials</td>
<td class="org-left"><code>/etc/kubernetes/admin.conf</code></td>
</tr>
<tr>
<td class="org-left">kubectl config file</td>
<td class="org-left"><code>~/.kube/config</code></td>
</tr>
<tr>
<td class="org-left">Kubernets working dir</td>
<td class="org-left"><code>/var/lib/kubelet/</code></td>
</tr>
<tr>
<td class="org-left">Docker working dir</td>
<td class="org-left"><code>/var/lib/docker/</code>, <code>/var/log/containers/</code></td>
</tr>
<tr>
<td class="org-left">Etcd working dir</td>
<td class="org-left"><code>/var/lib/etcd/</code></td>
</tr>
<tr>
<td class="org-left">Network cni</td>
<td class="org-left"><code>/etc/cni/net.d/</code></td>
</tr>
<tr>
<td class="org-left">Log files</td>
<td class="org-left"><code>/var/log/pods/</code></td>
</tr>
<tr>
<td class="org-left">log in worker node</td>
<td class="org-left"><code>/var/log/kubelet.log</code>, <code>/var/log/kube-proxy.log</code></td>
</tr>
<tr>
<td class="org-left">log in master node</td>
<td class="org-left"><code>kube-apiserver.log</code>, <code>kube-scheduler.log</code>, <code>kube-controller-manager.log</code></td>
</tr>
<tr>
<td class="org-left">Env</td>
<td class="org-left"><code>/etc/systemd/system/kubelet.service.d/10-kubeadm.conf</code></td>
</tr>
<tr>
<td class="org-left">Env</td>
<td class="org-left">export KUBECONFIG=/etc/kubernetes/admin.conf</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org14217aa" class="outline-3">
<h3 id="org14217aa"><span class="section-number-3">1.5</span> Pod</h3>
<div class="outline-text-3" id="text-1-5">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Command</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">List all pods</td>
<td class="org-left"><code>kubectl get pods</code></td>
</tr>
<tr>
<td class="org-left">List pods for all namespace</td>
<td class="org-left"><code>kubectl get pods -all-namespaces</code></td>
</tr>
<tr>
<td class="org-left">List all critical pods</td>
<td class="org-left"><code>kubectl get -n kube-system pods -a</code></td>
</tr>
<tr>
<td class="org-left">List pods with more info</td>
<td class="org-left"><code>kubectl get pod -o wide</code>, <code>kubectl get pod/&lt;pod-name&gt; -o yaml</code></td>
</tr>
<tr>
<td class="org-left">Get pod info</td>
<td class="org-left"><code>kubectl describe pod/srv-mysql-server</code></td>
</tr>
<tr>
<td class="org-left">List all pods with labels</td>
<td class="org-left"><code>kubectl get pods --show-labels</code></td>
</tr>
<tr>
<td class="org-left"><a href="https://github.com/kubernetes/kubernetes/issues/49387">List all unhealthy pods</a></td>
<td class="org-left">kubectl get pods –field-selector=status.phase!=Running –all-namespaces</td>
</tr>
<tr>
<td class="org-left">List running pods</td>
<td class="org-left">kubectl get pods –field-selector=status.phase=Running</td>
</tr>
<tr>
<td class="org-left">Get Pod initContainer status</td>
<td class="org-left"><code>kubectl get pod --template '{{.status.initContainerStatuses}}' &lt;pod-name&gt;</code></td>
</tr>
<tr>
<td class="org-left">kubectl run command</td>
<td class="org-left">kubectl exec -it -n “$ns” “$podname” – sh -c “echo $msg &gt;&gt;/dev/err.log”</td>
</tr>
<tr>
<td class="org-left">Watch pods</td>
<td class="org-left"><code>kubectl get pods  -n wordpress --watch</code></td>
</tr>
<tr>
<td class="org-left">Get pod by selector</td>
<td class="org-left">kubectl get pods –selector=”app=syslog” -o jsonpath='{.items[*].metadata.name}’</td>
</tr>
<tr>
<td class="org-left">List pods and images</td>
<td class="org-left">kubectl get pods -o=’custom-columns=PODS:.metadata.name,Images:.spec.containers[*].image’</td>
</tr>
<tr>
<td class="org-left">List pods and containers</td>
<td class="org-left">-o=’custom-columns=PODS:.metadata.name,CONTAINERS:.spec.containers[*].name’</td>
</tr>
<tr>
<td class="org-left">Reference</td>
<td class="org-left"><a href="https://cheatsheet.dennyzhang.com/kubernetes-yaml-templates">Link: kubernetes yaml templates</a></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="google-auto-placed" style="width: 100%; height: auto; clear: both; text-align: center;"><ins data-ad-format="auto" class="adsbygoogle adsbygoogle-noablate" data-ad-client="ca-pub-5389711597208884" data-adsbygoogle-status="done" style="display: block; margin: 10px auto; background-color: transparent; height: 280px;"><ins id="aswift_6_expand" style="display:inline-table;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:1140px;background-color:transparent;"><ins id="aswift_6_anchor" style="display:block;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:1140px;background-color:transparent;"></ins></ins></ins></div><div id="outline-container-org97411c3" class="outline-3">
<h3 id="org97411c3"><span class="section-number-3">1.6</span> Label &amp; Annontation</h3>
<div class="outline-text-3" id="text-1-6">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Command</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Filter pods by label</td>
<td class="org-left"><code>kubectl get pods -l owner=denny</code></td>
</tr>
<tr>
<td class="org-left">Manually add label to a pod</td>
<td class="org-left"><code>kubectl label pods dummy-input owner=denny</code></td>
</tr>
<tr>
<td class="org-left">Remove label</td>
<td class="org-left"><code>kubectl label pods dummy-input owner-</code></td>
</tr>
<tr>
<td class="org-left">Manually add annonation to a pod</td>
<td class="org-left"><code>kubectl annotate pods dummy-input my-url=https://dennyzhang.com</code></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org0859820" class="outline-3">
<h3 id="org0859820"><span class="section-number-3">1.7</span> Deployment &amp; Scale</h3>
<div class="outline-text-3" id="text-1-7">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Command</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Scale out</td>
<td class="org-left"><code>kubectl scale --replicas=3 deployment/nginx-app</code></td>
</tr>
<tr>
<td class="org-left">online rolling upgrade</td>
<td class="org-left"><code>kubectl rollout app-v1 app-v2 --image=img:v2</code></td>
</tr>
<tr>
<td class="org-left">Roll backup</td>
<td class="org-left"><code>kubectl rollout app-v1 app-v2 --rollback</code></td>
</tr>
<tr>
<td class="org-left">List rollout</td>
<td class="org-left"><code>kubectl get rs</code></td>
</tr>
<tr>
<td class="org-left">Check update status</td>
<td class="org-left"><code>kubectl rollout status deployment/nginx-app</code></td>
</tr>
<tr>
<td class="org-left">Check update history</td>
<td class="org-left"><code>kubectl rollout history deployment/nginx-app</code></td>
</tr>
<tr>
<td class="org-left">Pause/Resume</td>
<td class="org-left"><code>kubectl rollout pause deployment/nginx-deployment</code>, <code>resume</code></td>
</tr>
<tr>
<td class="org-left">Rollback to previous version</td>
<td class="org-left"><code>kubectl rollout undo deployment/nginx-deployment</code></td>
</tr>
<tr>
<td class="org-left">Reference</td>
<td class="org-left"><a href="https://cheatsheet.dennyzhang.com/kubernetes-yaml-templates">Link: kubernetes yaml templates</a>, <a href="https://kubernetes.io/docs/concepts/workloads/controllers/deployment/#pausing-and-resuming-a-deployment">Link: Pausing and Resuming a Deployment</a></td>
</tr>
</tbody>
</table>
<p><a href="https://cheatsheet.dennyzhang.com/"><img align="right" width="185" height="37" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/cheatsheet_dns.png"></a>
</p></div>
</div>
<div id="outline-container-org93ea4a1" class="outline-3">
<h3 id="org93ea4a1"><span class="section-number-3">1.8</span> Quota &amp; Limits &amp; Resource</h3>
<div class="outline-text-3" id="text-1-8">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Command</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">List Resource Quota</td>
<td class="org-left"><code>kubectl get resourcequota</code></td>
</tr>
<tr>
<td class="org-left">List Limit Range</td>
<td class="org-left"><code>kubectl get limitrange</code></td>
</tr>
<tr>
<td class="org-left">Customize resource definition</td>
<td class="org-left"><code>kubectl set resources deployment nginx -c=nginx --limits=cpu=200m</code></td>
</tr>
<tr>
<td class="org-left">Customize resource definition</td>
<td class="org-left"><code>kubectl set resources deployment nginx -c=nginx --limits=memory=512Mi</code></td>
</tr>
<tr>
<td class="org-left">Reference</td>
<td class="org-left"><a href="https://cheatsheet.dennyzhang.com/kubernetes-yaml-templates">Link: kubernetes yaml templates</a></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org7bd6652" class="outline-3">
<h3 id="org7bd6652"><span class="section-number-3">1.9</span> Service</h3>
<div class="outline-text-3" id="text-1-9">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Command</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">List all services</td>
<td class="org-left"><code>kubectl get services</code></td>
</tr>
<tr>
<td class="org-left">List service endpoints</td>
<td class="org-left"><code>kubectl get endpoints</code></td>
</tr>
<tr>
<td class="org-left">Get service detail</td>
<td class="org-left"><code>kubectl get service nginx-service -o yaml</code></td>
</tr>
<tr>
<td class="org-left">Get service cluster ip</td>
<td class="org-left">kubectl get service nginx-service -o go-template='{{.spec.clusterIP}}’</td>
</tr>
<tr>
<td class="org-left">Get service cluster port</td>
<td class="org-left">kubectl get service nginx-service -o go-template='{{(index .spec.ports 0).port}}’</td>
</tr>
<tr>
<td class="org-left">Expose deployment as lb service</td>
<td class="org-left"><code>kubectl expose deployment/my-app --type=LoadBalancer --name=my-service</code></td>
</tr>
<tr>
<td class="org-left">Expose service as lb service</td>
<td class="org-left"><code>kubectl expose service/wordpress-1-svc --type=LoadBalancer --name=ns1</code></td>
</tr>
<tr>
<td class="org-left">Reference</td>
<td class="org-left"><a href="https://cheatsheet.dennyzhang.com/kubernetes-yaml-templates">Link: kubernetes yaml templates</a></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org1388af0" class="outline-3">
<h3 id="org1388af0"><span class="section-number-3">1.10</span> Secrets</h3>
<div class="outline-text-3" id="text-1-10">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Command</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">List secrets</td>
<td class="org-left"><code>kubectl get secrets --all-namespaces</code></td>
</tr>
<tr>
<td class="org-left">Generate secret</td>
<td class="org-left"><code>echo -n 'mypasswd'</code>, then redirect to <code>base64 --decode</code></td>
</tr>
<tr>
<td class="org-left">Get secret</td>
<td class="org-left"><code>kubectl get secret denny-cluster-kubeconfig</code></td>
</tr>
<tr>
<td class="org-left">Get a specific field of a secret</td>
<td class="org-left">kubectl get secret denny-cluster-kubeconfig -o jsonpath=”{.data.value}”</td>
</tr>
<tr>
<td class="org-left">Create secret from cfg file</td>
<td class="org-left">kubectl create secret generic db-user-pass –from-file=./username.txt</td>
</tr>
<tr>
<td class="org-left">Reference</td>
<td class="org-left"><a href="https://cheatsheet.dennyzhang.com/kubernetes-yaml-templates">Link: kubernetes yaml templates</a>, <a href="https://kubernetes.io/docs/concepts/configuration/secret/">Link: Secrets</a></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org6746e5a" class="outline-3">
<h3 id="org6746e5a"><span class="section-number-3">1.11</span> StatefulSet</h3>
<div class="outline-text-3" id="text-1-11">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Command</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">List statefulset</td>
<td class="org-left"><code>kubectl get sts</code></td>
</tr>
<tr>
<td class="org-left">Delete statefulset only (not pods)</td>
<td class="org-left"><code>kubectl delete sts/&lt;stateful_set_name&gt; --cascade=false</code></td>
</tr>
<tr>
<td class="org-left">Scale statefulset</td>
<td class="org-left"><code>kubectl scale sts/&lt;stateful_set_name&gt; --replicas=5</code></td>
</tr>
<tr>
<td class="org-left">Reference</td>
<td class="org-left"><a href="https://cheatsheet.dennyzhang.com/kubernetes-yaml-templates">Link: kubernetes yaml templates</a></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-orged2137d" class="outline-3">
<h3 id="orged2137d"><span class="section-number-3">1.12</span> Volumes &amp; Volume Claims</h3>
<div class="outline-text-3" id="text-1-12">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Command</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">List storage class</td>
<td class="org-left"><code>kubectl get storageclass</code></td>
</tr>
<tr>
<td class="org-left">Check the mounted volumes</td>
<td class="org-left"><code>kubectl exec storage ls /data</code></td>
</tr>
<tr>
<td class="org-left">Check persist volume</td>
<td class="org-left"><code>kubectl describe pv/pv0001</code></td>
</tr>
<tr>
<td class="org-left">Copy local file to pod</td>
<td class="org-left"><code>kubectl cp /tmp/my &lt;some-namespace&gt;/&lt;some-pod&gt;:/tmp/server</code></td>
</tr>
<tr>
<td class="org-left">Copy pod file to local</td>
<td class="org-left"><code>kubectl cp &lt;some-namespace&gt;/&lt;some-pod&gt;:/tmp/server /tmp/my</code></td>
</tr>
<tr>
<td class="org-left">Reference</td>
<td class="org-left"><a href="https://cheatsheet.dennyzhang.com/kubernetes-yaml-templates">Link: kubernetes yaml templates</a></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org83d17ba" class="outline-3">
<h3 id="org83d17ba"><span class="section-number-3">1.13</span> Events &amp; Metrics</h3>
<div class="outline-text-3" id="text-1-13">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Command</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">View all events</td>
<td class="org-left"><code>kubectl get events --all-namespaces</code></td>
</tr>
<tr>
<td class="org-left">List Events sorted by timestamp</td>
<td class="org-left">kubectl get events –sort-by=.metadata.creationTimestamp</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org8fc2ae7" class="outline-3">
<h3 id="org8fc2ae7"><span class="section-number-3">1.14</span> Node Maintenance</h3>
<div class="outline-text-3" id="text-1-14">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Command</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Mark node as unschedulable</td>
<td class="org-left"><code>kubectl cordon $NDOE_NAME</code></td>
</tr>
<tr>
<td class="org-left">Mark node as schedulable</td>
<td class="org-left"><code>kubectl uncordon $NDOE_NAME</code></td>
</tr>
<tr>
<td class="org-left">Drain node in preparation for maintenance</td>
<td class="org-left"><code>kubectl drain $NODE_NAME</code></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org80694ab" class="outline-3">
<h3 id="org80694ab"><span class="section-number-3">1.15</span> Namespace &amp; Security</h3>
<div class="outline-text-3" id="text-1-15">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Command</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">List authenticated contexts</td>
<td class="org-left"><code>kubectl config get-contexts</code>, <code>~/.kube/config</code></td>
</tr>
<tr>
<td class="org-left">Set namespace preference</td>
<td class="org-left"><code>kubectl config set-context &lt;context_name&gt; --namespace=&lt;ns_name&gt;</code></td>
</tr>
<tr>
<td class="org-left">Switch context</td>
<td class="org-left"><code>kubectl config use-context &lt;cluster-name&gt;</code></td>
</tr>
<tr>
<td class="org-left">Load context from config file</td>
<td class="org-left"><code>kubectl get cs --kubeconfig kube_config.yml</code></td>
</tr>
<tr>
<td class="org-left">Delete the specified context</td>
<td class="org-left"><code>kubectl config delete-context &lt;cluster-name&gt;</code></td>
</tr>
<tr>
<td class="org-left">List all namespaces defined</td>
<td class="org-left"><code>kubectl get namespaces</code></td>
</tr>
<tr>
<td class="org-left">List certificates</td>
<td class="org-left"><code>kubectl get csr</code></td>
</tr>
<tr>
<td class="org-left"><a href="https://kubernetes.io/docs/concepts/policy/pod-security-policy/">Check user privilege</a></td>
<td class="org-left">kubectl –as=system:serviceaccount:ns-denny:test-privileged-sa -n ns-denny auth can-i use pods/list</td>
</tr>
<tr>
<td class="org-left"><a href="https://kubernetes.io/docs/concepts/policy/pod-security-policy/">Check user privilege</a></td>
<td class="org-left"><code>kubectl auth can-i use pods/list</code></td>
</tr>
<tr>
<td class="org-left">Reference</td>
<td class="org-left"><a href="https://cheatsheet.dennyzhang.com/kubernetes-yaml-templates">Link: kubernetes yaml templates</a></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org648fdb4" class="outline-3">
<h3 id="org648fdb4"><span class="section-number-3">1.16</span> Network</h3>
<div class="outline-text-3" id="text-1-16">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Command</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Temporarily add a port-forwarding</td>
<td class="org-left"><code>kubectl port-forward redis-134 6379:6379</code></td>
</tr>
<tr>
<td class="org-left">Add port-forwaring for deployment</td>
<td class="org-left"><code>kubectl port-forward deployment/redis-master 6379:6379</code></td>
</tr>
<tr>
<td class="org-left">Add port-forwaring for replicaset</td>
<td class="org-left"><code>kubectl port-forward rs/redis-master 6379:6379</code></td>
</tr>
<tr>
<td class="org-left">Add port-forwaring for service</td>
<td class="org-left"><code>kubectl port-forward svc/redis-master 6379:6379</code></td>
</tr>
<tr>
<td class="org-left">Get network policy</td>
<td class="org-left"><code>kubectl get NetworkPolicy</code></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org8e69133" class="outline-3">
<h3 id="org8e69133"><span class="section-number-3">1.17</span> Patch</h3>
<div class="outline-text-3" id="text-1-17">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Patch service to loadbalancer</td>
<td class="org-left"><code>kubectl patch svc $svc_name -p '{"spec": {"type": "LoadBalancer"}}'</code></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org18f79d8" class="outline-3">
<h3 id="org18f79d8"><span class="section-number-3">1.18</span> Extenstions</h3>
<div class="outline-text-3" id="text-1-18">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Enumerates the resource types available</td>
<td class="org-left"><code>kubectl api-resources</code></td>
</tr>
<tr>
<td class="org-left">List api group</td>
<td class="org-left"><code>kubectl api-versions</code></td>
</tr>
<tr>
<td class="org-left">List all CRD</td>
<td class="org-left"><code>kubectl get crd</code></td>
</tr>
<tr>
<td class="org-left">List storageclass</td>
<td class="org-left"><code>kubectl get storageclass</code></td>
</tr>
</tbody>
</table>
<p><a href="https://cheatsheet.dennyzhang.com/"><img align="right" width="185" height="37" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/cheatsheet_dns.png"></a>
</p></div>
</div>
<div id="outline-container-org5a65496" class="outline-3">
<h3 id="org5a65496"><span class="section-number-3">1.19</span> Components &amp; Services</h3>
<div class="outline-text-3" id="text-1-19">
</div>
<div id="outline-container-orgb941cdc" class="outline-4">
<h4 id="orgb941cdc"><span class="section-number-4">1.19.1</span> Services on Master Nodes</h4>
<div class="outline-text-4" id="text-1-19-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><a href="https://github.com/kubernetes/kubernetes/tree/master/cmd/kube-apiserver">kube-apiserver</a></td>
<td class="org-left">exposes the Kubernetes API from master nodes</td>
</tr>
<tr>
<td class="org-left"><a href="https://coreos.com/etcd/">etcd</a></td>
<td class="org-left">reliable data store for all k8s cluster data</td>
</tr>
<tr>
<td class="org-left"><a href="https://github.com/kubernetes/kubernetes/tree/master/cmd/kube-scheduler">kube-scheduler</a></td>
<td class="org-left">schedule pods to run on selected nodes</td>
</tr>
<tr>
<td class="org-left"><a href="https://github.com/kubernetes/kubernetes/tree/master/cmd/kube-controller-manager">kube-controller-manager</a></td>
<td class="org-left">node controller, replication controller, endpoints controller, and service account &amp; token controllers</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org88baa20" class="outline-4">
<h4 id="org88baa20"><span class="section-number-4">1.19.2</span> Services on Worker Nodes</h4>
<div class="outline-text-4" id="text-1-19-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><a href="https://github.com/kubernetes/kubernetes/tree/master/cmd/kubelet">kubelet</a></td>
<td class="org-left">makes sure that containers are running in a pod</td>
</tr>
<tr>
<td class="org-left"><a href="https://github.com/kubernetes/kubernetes/tree/master/cmd/kube-proxy">kube-proxy</a></td>
<td class="org-left">perform connection forwarding</td>
</tr>
<tr>
<td class="org-left"><a href="https://github.com/docker/engine">Container Runtime</a></td>
<td class="org-left">Kubernetes supported runtimes: Docker, rkt, runc and any <a href="https://github.com/opencontainers/runtime-spec">OCI runtime-spec</a> implementation.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-orgad627fb" class="outline-4">
<h4 id="orgad627fb"><span class="section-number-4">1.19.3</span> Addons: pods and services that implement cluster features</h4>
<div class="outline-text-4" id="text-1-19-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">DNS</td>
<td class="org-left">serves DNS records for Kubernetes services</td>
</tr>
<tr>
<td class="org-left">Web UI</td>
<td class="org-left">a general purpose, web-based UI for Kubernetes clusters</td>
</tr>
<tr>
<td class="org-left">Container Resource Monitoring</td>
<td class="org-left">collect, store and serve container metrics</td>
</tr>
<tr>
<td class="org-left">Cluster-level Logging</td>
<td class="org-left">save container logs to a central log store with search/browsing interface</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org2c45c4b" class="outline-4">
<h4 id="org2c45c4b"><span class="section-number-4">1.19.4</span> Tools</h4>
<div class="outline-text-4" id="text-1-19-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><a href="https://github.com/kubernetes/kubernetes/tree/master/cmd/kubectl">kubectl</a></td>
<td class="org-left">the command line util to talk to k8s cluster</td>
</tr>
<tr>
<td class="org-left"><a href="https://github.com/kubernetes/kubernetes/tree/master/cmd/kubeadm">kubeadm</a></td>
<td class="org-left">the command to bootstrap the cluster</td>
</tr>
<tr>
<td class="org-left"><a href="https://kubernetes.io/docs/reference/setup-tools/kubefed/kubefed/">kubefed</a></td>
<td class="org-left">the command line to control a Kubernetes Cluster Federation</td>
</tr>
<tr>
<td class="org-left">Kubernetes Components</td>
<td class="org-left"><a href="https://kubernetes.io/docs/concepts/overview/components/">Link: Kubernetes Components</a></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-orga62a150" class="outline-3">
<h3 id="orga62a150"><span class="section-number-3">1.20</span> More Resources</h3>
<div class="outline-text-3" id="text-1-20">
<p>License: Code is licensed under <a href="https://www.dennyzhang.com/wp-content/mit_license.txt">MIT License</a>.</p>
<p><a href="https://kubernetes.io/docs/reference/kubectl/cheatsheet/">https://kubernetes.io/docs/reference/kubectl/cheatsheet/</a></p>
<p><a href="https://codefresh.io/kubernetes-guides/kubernetes-cheat-sheet/">https://codefresh.io/kubernetes-guides/kubernetes-cheat-sheet/</a></p>
<p><a href="https://cheatsheet.dennyzhang.com/"><img align="right" width="201" height="268" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/denny_201706.png"></a><br>
<a href="https://cheatsheet.dennyzhang.com/"><img align="right" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/cheatsheet_dns.png"></a></p>
<p><a href="https://www.linkedin.com/in/dennyzhang001"><img align="bottom" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/linkedin.png" alt="linkedin"></a><br>
<a href="https://github.com/dennyzhang"><img align="bottom" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/github(1).png" alt="github"></a><br>
<a href="https://www.dennyzhang.com/slack" target="_blank" rel="nofollow noopener noreferrer"><img align="bottom" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/slack.png" alt="slack"></a>
</p></div>
<hr>
<link rel="stylesheet" type="text/css" href="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/org-cheatsheet.css" media="all" onload="if(media!=&#39;all&#39;)media=&#39;all&#39;">
</div>
            
                        <div class="entry-footer">
                <div class="entry-meta">
                    <div class="entry-author"><span>Author: </span><span class="vcard author author_name"><span class="fn"><a href="https://cheatsheet.dennyzhang.com/author/cheatsheetdenny" title="Posts by cheatsheetdenny" rel="author">cheatsheetdenny</a></span></span></div>					<div class="entry-category"><span>Filed Under: </span><a href="https://cheatsheet.dennyzhang.com/category/cloud" rel="category tag">Cloud</a></div>                    <div class="entry-tags"><span>Tags: </span><a href="https://cheatsheet.dennyzhang.com/tag/kubernetes" rel="tag">kubernetes</a></div>                </div>
            </div>
                    
        </div>
        <!-- /Post Content -->
<script async="" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/f(9).txt"></script>
<!-- cheatsheet -->
<ins class="adsbygoogle" style="display: block; height: 280px;" data-ad-client="ca-pub-5389711597208884" data-ad-slot="9990449947" data-ad-format="auto" data-full-width-responsive="true" data-adsbygoogle-status="done"><ins id="aswift_1_expand" style="display:inline-table;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:1140px;background-color:transparent;"><ins id="aswift_1_anchor" style="display:block;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:1140px;background-color:transparent;"></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>        
                <hr>
        <div class="pagination-post">
            <div class="previous_post"><a href="https://cheatsheet.dennyzhang.com/kubernetes-yaml-templates" rel="prev">Kubernetes Yaml Templates</a></div>
            <div class="next_post"></div>
        </div>
                
        <!-- Post Comments -->
                <hr>
        
<div id="comments" class="comments">

    
	
		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://cheatsheet.dennyzhang.com/cheatsheet-kubernetes-a4#respond" style="display:none;">Cancel reply</a></small></h3><form action="https://cheatsheet.dennyzhang.com/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate=""><p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><div class="row"><div class="col-sm-6"><div class="form-group form-group-author"><label class="form-label form-label-author">Name<span class="asterik">*</span></label><input type="text" class="form-control" id="author" name="author" placeholder="" value=""></div>
<div class="form-group form-group-email"><label class="form-label form-label-email">Email Address<span class="asterik">*</span></label><input type="email" class="form-control" name="email" id="email" placeholder="" value=""></div>
<div class="form-group form-group-url"><label class="form-label form-label-url">Website</label><input type="text" class="form-control" name="url" id="url" placeholder="" value=""></div></div></div>
<div class="form-group form-group-comment"><label class="form-label form-label-comment">Comment</label><textarea rows="5" cols="" class="form-control" id="comment" name="comment" placeholder=""></textarea></div><div class="form-group form-group-cookie"><input id="comment-cookies-consent" name="comment-cookies-consent" type="checkbox" value="yes"><label for="comment-cookies-consent">Save my name, email, and website in this browser for the next time I comment.</label></div>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="btn btn-default" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="5260" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p></form>	</div><!-- #respond -->
	

</div>          
        <!-- /Post Comments -->
        
    </div>
    <!-- /Main Column -->
    
    
        
</div>
<!-- /Two Columns -->
        
<hr>


        
        

<!-- /Footer Widgets -->
        
        <!-- Footer -->
        <div class="footer" role="contentinfo">
            
                        
                                    
            <div class="footer-copyright">
                <ul class="credit">
                    <li><a href="https://www.lyrathemes.com/kale/">Kale</a> by LyraThemes.com.</li>
                </ul>
            </div>
            
        </div>
        <!-- /Footer -->
        
    </div><!-- /Container -->
</div><!-- /Main Wrapper -->

<script type="text/javascript" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/bootstrap.min.js"></script>
<script type="text/javascript" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/bootstrap-select.min.js"></script>
<script type="text/javascript" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/jquery.smartmenus.js"></script>
<script type="text/javascript" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/jquery.smartmenus.bootstrap.js"></script>
<script type="text/javascript" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/owl.carousel.min.js"></script>
<script type="text/javascript" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/kale.js"></script>
<script type="text/javascript" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/comment-reply.min.js"></script>
<script type="text/javascript" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/wp-embed.min.js"></script>


<ins class="adsbygoogle adsbygoogle-noablate" data-adsbygoogle-status="done" style="display: none !important;"><ins id="aswift_3_expand" style="display:inline-table;border:none;height:0px;margin:0;padding:0;position:relative;visibility:visible;width:0px;background-color:transparent;"><ins id="aswift_3_anchor" style="display:block;border:none;height:0px;margin:0;padding:0;position:relative;visibility:visible;width:0px;background-color:transparent;"><iframe id="aswift_3" name="aswift_3" style="left:0;position:absolute;top:0;border:0;width:undefinedpx;height:undefinedpx;" sandbox="allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" frameborder="0" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/ads(2).html" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" data-google-container-id="a!3" data-load-complete="true"></iframe></ins></ins></ins><iframe id="google_osd_static_frame_6692534737723" name="google_osd_static_frame" style="display: none; width: 0px; height: 0px;" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/saved_resource(2).html"></iframe></body><iframe id="google_esf" name="google_esf" src="./Kubectl Kubernetes Free CheatSheet – CheatSheet_files/zrt_lookup.html" data-ad-client="ca-pub-5389711597208884" style="display: none;"></iframe></html>